'use strict';var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,d,c){a instanceof String&&(a=String(a));for(var e=a.length,f=0;f<e;f++){var h=a[f];if(d.call(c,h,f,a))return{i:f,v:h}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,d,c){a!=Array.prototype&&a!=Object.prototype&&(a[d]=c.value)};$jscomp.getGlobal=function(a){a=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,a];for(var d=0;d<a.length;++d){var c=a[d];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,d,c,e){if(d){c=$jscomp.global;a=a.split(".");for(e=0;e<a.length-1;e++){var f=a[e];f in c||(c[f]={});c=c[f]}a=a[a.length-1];e=c[a];d=d(e);d!=e&&null!=d&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:d})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6","es3");
(function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)})(function(a){function d(b){b.state.markedSelection&&b.operation(function(){t(b)})}function c(b){b.state.markedSelection&&b.state.markedSelection.length&&b.operation(function(){f(b)})}function e(b,a,g,c){if(0!=m(a,g))for(var p=b.state.markedSelection,d=b.state.markedSelectionStyle,e=a.line;;){var f=e==a.line?a:r(e,
0);e+=n;var q=e>=g.line,h=q?g:r(e,0);f=b.markText(f,h,{className:d});null==c?p.push(f):p.splice(c++,0,f);if(q)break}}function f(b){b=b.state.markedSelection;for(var a=0;a<b.length;++a)b[a].clear();b.length=0}function h(a){f(a);for(var b=a.listSelections(),c=0;c<b.length;c++)e(a,b[c].from(),b[c].to())}function t(a){if(!a.somethingSelected())return f(a);if(1<a.listSelections().length)return h(a);var b=a.getCursor("start"),c=a.getCursor("end"),d=a.state.markedSelection;if(!d.length)return e(a,b,c);var k=
d[0].find(),l=d[d.length-1].find();if(!k||!l||c.line-b.line<=n||0<=m(b,l.to)||0>=m(c,k.from))return h(a);for(;0<m(b,k.from);)d.shift().clear(),k=d[0].find();0>m(b,k.from)&&(k.to.line-b.line<n?(d.shift().clear(),e(a,b,k.to,0)):e(a,b,k.from,0));for(;0>m(c,l.to);)d.pop().clear(),l=d[d.length-1].find();0<m(c,l.to)&&(c.line-l.from.line<n?(d.pop().clear(),e(a,l.from,c)):e(a,l.to,c))}a.defineOption("styleSelectedText",!1,function(b,e,g){g=g&&g!=a.Init;e&&!g?(b.state.markedSelection=[],b.state.markedSelectionStyle=
"string"==typeof e?e:"CodeMirror-selectedtext",h(b),b.on("cursorActivity",d),b.on("change",c)):!e&&g&&(b.off("cursorActivity",d),b.off("change",c),f(b),b.state.markedSelection=b.state.markedSelectionStyle=null)});var n=8,r=a.Pos,m=a.cmpPos});
